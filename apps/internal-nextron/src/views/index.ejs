<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>internal server</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/axios@1.7.9/dist/axios.min.js"></script>
  </head>
  <body style="background: #faf9f9;">
    <nav class="" style="background: #b4d6b4;">
      <div class="row">
        <div class="col-sm-3 col-lg-1">
          <a class="" href="/"><img src="/logo-dark-small.png" alt="logo" width="100" height="auto" style="margin-left: 20%;"/></a>
        </div>
        <div class="col-sm-7 col-lg-10">
        </div>
        <div class="col-sm-2 col-lg-1">
          <div style="margin-top: 5%; padding: 2%">
            <p style="color: #332c2c; font-size: 2rem; text-align: right; margin-right: 20%"><a href="/settings"><i class="fa-solid fa-gear" style="color: #332c2c; font-size: 2rem; text-align: right;"></i></a></p>
          </div>
        </div>
      </div>
    </nav>
    <div class="row">
      <div class="col-4"></div>
      <div class="col-4">
        <img src="/logo-dark-400.png" width="100%" height="auto" style="width: 100%; height: auto;"/>
        
      </div>
      <div class="col-4"></div>
      <div class="col-1"></div>
      <div class="col-10">
        <div style="background: #000000; height: 200px; padding: 2%; margin: 3% 2%; width: 100%; overflow: auto; border-radius: 10px;" id="display">
          <%_ for(let o of output){_%>
            <p style="color: #e4dede; font-size: .9rem; margin:0;"><%=new Date(o.time).toLocaleDateString("En-us")%> <%=new Date(o.time).toLocaleTimeString("En-us")%> - <%=o.output%></p>
          <%_}_%>
        </div>
      </div>
      <div class="col-1"></div>
    </div>
    <script type="text/javascript">
      let start = ()=>{
        setTimeout(async ()=>{
          let updates = await axios.get("/output")
          let html = ``
          for(let o = updates.data.length - 1; o > 0; o--){
            html += `<p style="color: #e4dede; font-size: .9rem; margin:0;">${new Date(updates.data[o].time).toLocaleDateString("En-us")} ${new Date(updates.data[o].time).toLocaleTimeString("En-us")} - ${updates.data[o].output}</p>`
          }
          document.getElementById("display").innerHTML = html
          start()
        }, 1000)
      }
      start()
    </script>
  </body>
</html>
